```sh
date_no_dash=${1}

if [ x"${date_no_dash}" = x ]
then
date_no_dash=`date -d "+1 day ago" +%Y%m%d`
fi

#一周前
if [ x"${date_before6}" = x ]; then
date_before6=`date -d "-6 day ${date_no_dash}" +"%Y%m%d"`
fi



#一天前
if [ x"${date_yest}" = x ]; then
date_yest=`date -d "-1 day ${date_no_dash}" +"%Y%m%d"`
fi



format_date=`date -d "-0 day ${date_no_dash}" +%Y-%m-%d`


```